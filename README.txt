Smells Removed:

    God Class split into focused services

    Primitive Obsession replaced with strategy patterns

    Global State eliminated via dependency injection

    Shotgun Surgery prevented via centralized pricing logic

Refactorings Applied:

    Extract Class for policies and services

    Replace Conditional with Polymorphism

SOLID Principles:

    Single Responsibility through focused classes

    Open/Closed via extensible interfaces

Extensibility:
New discounts implement DiscountPolicy interface
No existing code modifications required